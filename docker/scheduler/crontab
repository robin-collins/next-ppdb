# Scheduler Crontab
# Timezone: Australia/Adelaide (set via TZ environment variable in container)
# Note: Alpine crond respects the container's TZ setting, so times below are LOCAL Adelaide times
# No UTC conversion needed - crond uses the configured timezone automatically

# Pre-update backup at 7:00 PM (19:00) Adelaide time
# Runs 1 hour before scheduled updates to ensure recovery points
0 19 * * * /scripts/backup.sh >> /var/log/scheduler/cron.log 2>&1

# Version check at 6:00 AM Adelaide time
0 6 * * * /scripts/version-check.sh >> /var/log/scheduler/cron.log 2>&1

# Version check at 12:00 PM (noon) Adelaide time
0 12 * * * /scripts/version-check.sh >> /var/log/scheduler/cron.log 2>&1

# Execute approved updates at 8:00 PM (20:00) Adelaide time
0 20 * * * /scripts/execute-updates.sh >> /var/log/scheduler/cron.log 2>&1

# Process email queue every 15 minutes
*/15 * * * * /scripts/process-email-queue.sh >> /var/log/scheduler/cron.log 2>&1

# Log rotation at midnight Adelaide time
0 0 * * * /usr/sbin/logrotate /etc/logrotate.d/scheduler


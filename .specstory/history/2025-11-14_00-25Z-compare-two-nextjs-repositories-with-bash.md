<!-- Generated by SpecStory, Markdown v2.0.0 -->

<!-- cursor Session e1be10bd-db1f-45ef-b6eb-ab3e35e63a81 (2025-11-14 00:25Z) -->

# Compare two nextjs repositories with bash (2025-11-14 00:25Z)

_**User (2025-11-13 23:45Z)**_

@Untitled-1 (4-28) this is an example of someone comparing two rails application repositories using diff to indetify what is different. I want to do something similiar comparing two nextjs repositories.



git@github.com:robin-collins/ppdb-ts.git



git@github.com:robin-collins/ppdb-ts-oct.git



can you provide me a bash script that will assume when I run it, that it can create folders and files in the directory i am running it from / in.





---

_**Agent (model default, mode Agent)**_

<think><details><summary>Thought Process</summary>
**Providing a comparison bash script**

I’m putting together a concise bash script that clones two Next.js repos into a temp directory, adds one repo as a remote to the other, and runs a git diff between branches—allowing easy file-level comparison. I’m including instructions in the script output and defaulting branches to main with optional overrides.</details></think>

---

```bash
#!/usr/bin/env bash
set -euo pipefail

REPO_A=${REPO_A:-git@github.com:robin-collins/ppdb-ts.git}
REPO_B=${REPO_B:-git@github.com:robin-collins/ppdb-ts-oct.git}
BRANCH_A=${BRANCH_A:-main}
BRANCH_B=${BRANCH_B:-main}

BASE_DIR="$(pwd)"
COMPARE_DIR="$BASE_DIR/ppdb-next-comparison"

rm -rf "$COMPARE_DIR"
mkdir -p "$COMPARE_DIR"
cd "$COMPARE_DIR"

git clone --depth=1 --branch "$BRANCH_A" "$REPO_A" repo_a
git clone --depth=1 --branch "$BRANCH_B" "$REPO_B" repo_b

cd repo_a
git remote add repo_b "$REPO_B"
git fetch repo_b "$BRANCH_B"

echo
echo "Changed files between $REPO_A#$BRANCH_A and $REPO_B#$BRANCH_B:"
git diff --name-status "$BRANCH_A" "repo_b/$BRANCH_B"

echo
echo "Complete diff:"
git diff "$BRANCH_A" "repo_b/$BRANCH_B"

cat <<'EOF'

Inspect specific files with:
  cd "$COMPARE_DIR/repo_a"
  git diff BRANCH_A repo_b/BRANCH_B -- path/to/file

Reset BRANCH_A/BRANCH_B/REPO_A/REPO_B to compare other refs.

EOF
```

---

_**User (2025-11-13 23:45Z)**_

@bash (232-253) based on the output of changed files, it looks like only package.json was changed, the rest are just chat histories

---

_**Agent (model default, mode Agent)**_

<think><details><summary>Thought Process</summary>
**Preparing concise acknowledgment**</details></think>

---

Agree—only `package.json` differs; the rest are removed `.specstory` history files.

---


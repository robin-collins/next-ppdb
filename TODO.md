# TODO

Further implementation tasks for the Next.js application next-ppdb.

- [ ] on the animal details page, when you click on the customers card that displays the button 'View Customer', clicking anywhere on that card should take you to the customer details page.\

- [ ] Update the function that parses note text to extract both a price and staff initials for use in the staff 'pill' and large green price added to the footer of the notes card. The function should identify a price by finding a dollar sign followed by numbers (e.g., `$65`, which it currently does well) and detect staff initials consisting of 2–3 letters (case-insensitive). The initials should match if they appear at the end of the note or as the last word before a number, even if not strictly at the very end. For example, it should successfully match `notes $65 RFC`, `notes rc $65`, `notes RFC $65`, and `notes RC`, accurately capturing both the price and the initials whenever they appear near or at the end of the note text. Currently it only captures if the initials are at the end, putting a price at the end causes the function to not find the staff initials.

- [] On the Daily Totals page, when the user changes the selected date from today’s date to a previous or future date, then clicks on an animal’s name to open its details page, and subsequently uses the browser’s back button, the app currently reverts to today’s date instead of maintaining the previously selected date. Update this behavior so that when returning via the back button, the Daily Totals page remembers and restores the user’s last selected date. Additionally, ensure that the sidebar link to the Daily Totals page always defaults to today’s date when accessed directly.

- [x] Add GitHub repository and documentation site links to the header navbar, positioned directly to the left of the yellow datetime pill at the far right. Both links must be configurable using a constants.ts file (e.g., `GITHUB_REPO_URL` and `DOCS_SITE_URL`). Ensure the links maintain consistent styling with existing navbar elements, include appropriate icons (GitHub and Docs), and remain responsive across all screen sizes.

- [x] Enhance the application so that the sidebar displays the current version number directly above the date. On startup, the version should be read once from the `package.json` file and stored in memory, ensuring that the displayed version always matches the actual application version without repeatedly accessing the file. The implementation should be part of the initial requirements check and apply the fail hard and fast approach in the event the package.json is malformed or unreadable.

- [ ] Configure the GitHub Actions workflow so that when it builds the container, it automatically tags the build with the release version number.

- [ ] Enhance the application by implementing a robust scheduling system that allows users to define and manage maintenance tasks with precise control over start times, dates, and recurrence options. The scheduler should support one-time and repeating intervals, provide user-friendly configuration interfaces, handle time zone differences, ensure reliable execution even after restarts, and include notifications or logging for completed or missed tasks. It should use a JSON file stored on a persistant mounted volume for its configuration and sheduled tasks.

- [ ] Implement a robust notifications system to log and manage the results of scheduled tasks. Each notification should have a status of "unread," "read," or "archived." The top navigation bar must include a bell icon that visually indicates the presence and type of notifications: a muted monotone color when there are no new alerts, and dynamically updated colors (success, warning, error, or info) corresponding to the latest unread notification type. The notifications page should present two clearly separated and collapsible sections—one for current notifications and another for archived ones—allowing users to view, mark as read, or archive individual notifications. The archive section should be collapsed by default. All configuration data and scheduled task definitions must be stored in a JSON file located on a persistent mounted volume to ensure data preservation across restarts.

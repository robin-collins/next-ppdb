# ==========================================
# Docker Compose Configuration `.env` file
# ==========================================

# MySQL Configuration
MYSQL_ROOT_PASSWORD=rootpassword
MYSQL_DATABASE=ppdb-app
MYSQL_USER=ppdb-user
MYSQL_PASSWORD=userpassword
MYSQL_HOST=mysql
MYSQL_PORT=3306

# Traefik / Let's Encrypt Configuration
DOMAIN_NAME=example.com
ACME_EMAIL=admin@example.com

# Cloudflare DNS Challenge API Token
# Create a token with Zone:DNS:Edit permissions for your domain
# https://dash.cloudflare.com/profile/api-tokens
CF_DNS_API_TOKEN=your-cloudflare-api-token-here

# VALKEY SETTINGS
Valkey_HOST=valkey
Valkey_PORT=6379

# ==========================================
# Next.js / Prisma Configuration
# ==========================================

NEXT_PUBLIC_API_URL=https://your-api-url.com

NODE_ENV=production

# Connect to the MySQL container (use service name 'mysql' if running inside docker network, or localhost if running locally with exposed ports)
# Format: mysql://USER:PASSWORD@HOST:PORT/DATABASE
# Uses variable expansion to construct the URL from the variables above
DATABASE_URL="mysql://${MYSQL_USER}:${MYSQL_PASSWORD}@${MYSQL_HOST}:${MYSQL_PORT}/${MYSQL_DATABASE}"

# Debug logging (true/false)
DEBUG=true

# ==========================================
# Scheduler Configuration
# ==========================================

# Current app version (used for update checks)
# This should match the version in package.json
APP_VERSION=1.0.2

# Scheduler API authentication key (generate with: openssl rand -hex 32)
SCHEDULER_API_KEY=your-secret-scheduler-key-here

# Timezone for scheduled tasks (cron)
TZ=Australia/Adelaide

# ==========================================
# Email Notifications (SMTP)
# ==========================================

# SMTP server settings
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=notifications@example.com
SMTP_PASS=your-smtp-password
SMTP_FROM="PPDB Notifications <notifications@example.com>"

# Notification recipients
UPDATE_NOTIFICATION_EMAIL=enduser@example.com
BACKUP_NOTIFICATION_EMAIL=enduser@example.com
DEVELOPER_NOTIFICATION_EMAIL=admin@example.com

# ==========================================
# GHCR / GitHub Configuration
# ==========================================

# GitHub Container Registry token (for checking available versions)
# Create a PAT with read:packages scope
GHCR_TOKEN=ghp_your_github_token_here

# GHCR repository (owner/repo format)
GHCR_REPOSITORY=robin-collins/next-ppdb

# GitHub token for fetching release notes (can be same as GHCR_TOKEN)
GITHUB_TOKEN=ghp_your_github_token_here
